services:

    command.state.create:
        class: eTraxis\SimpleBus\States\Handler\CreateStateCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\CreateStateCommand }]
        arguments: [ "@validator", "@doctrine.orm.entity_manager" ]

    command.state.update:
        class: eTraxis\SimpleBus\States\Handler\UpdateStateCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\UpdateStateCommand }]
        arguments: [ "@validator", "@doctrine.orm.entity_manager" ]

    command.state.delete:
        class: eTraxis\SimpleBus\States\Handler\DeleteStateCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\DeleteStateCommand }]
        arguments: [ "@doctrine.orm.entity_manager", "@security.authorization_checker" ]

    command.state.set_initial:
        class: eTraxis\SimpleBus\States\Handler\SetInitialStateCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\SetInitialStateCommand }]
        arguments: [ "@doctrine.orm.entity_manager" ]

    command.state.set_role_transitions:
        class: eTraxis\SimpleBus\States\Handler\SetRoleStateTransitionsCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\SetRoleStateTransitionsCommand }]
        arguments: [ "@doctrine.orm.entity_manager" ]

    command.state.set_group_transitions:
        class: eTraxis\SimpleBus\States\Handler\SetGroupStateTransitionsCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\SetGroupStateTransitionsCommand }]
        arguments: [ "@doctrine.orm.entity_manager" ]

    command.state.add_responsible_groups:
        class: eTraxis\SimpleBus\States\Handler\AddStateResponsibleGroupsCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\AddStateResponsibleGroupsCommand }]
        arguments: [ "@doctrine.orm.entity_manager" ]

    command.state.remove_responsible_groups:
        class: eTraxis\SimpleBus\States\Handler\RemoveStateResponsibleGroupsCommandHandler
        tags: [{ name: command_handler, handles: eTraxis\SimpleBus\States\RemoveStateResponsibleGroupsCommand }]
        arguments: [ "@doctrine.orm.entity_manager" ]
